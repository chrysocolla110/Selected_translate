!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}({0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JA=t.EN=t.ZH=t.DEFAULT_LANG=t.CY_TOKEN=void 0;t.ZH="zh";t.EN="en";t.JA="ja-JP";t.DEFAULT_LANG="en";t.CY_TOKEN="ejlj3pmk56ss057lt4l4"},1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showCyxyIcon=function(){$(".cyxy-personal").show(),$(".cyxy-function").show(),$(".cyxy-favorite").show(),$(".cyxy-video-trans").show(),$("#substr")?$(".cyxy-video-trans")[0].style.filter="none":$(".cyxy-video-trans")[0].style.filter="grayscale(100%)"},t.hideCyxyIcon=function(){$(".cyxy-personal").hide(),$(".cyxy-function").hide(),$(".cyxy-favorite").hide(),$(".cyxy-video-trans").hide()}},13:function(e,t,n){"use strict";var r=n(0),o=n(1),i=(window.location.href,null),a=null,l=!1;function d(){var e;window.intervention_disabled||(window.location.href,function(){if(null!=i)return;l=!1,i=setInterval(()=>{if(0!=$("#habitlab_video_overlay").length){if(l)return clearInterval(i),void(i=null);!function(){let e=s();if(0==e.length)return!1;var t=u(".html5-video-player","video:not(#rewardvideo)","#player-api"),n=t.height(),r=t.width();if(0==n||0==r)return!1;e.width(r),e.height(n),e.css({"background-color":"#333333"}),e.css("z-index",100);const o=e[0];o.style.left=t.offset().left+"px",o.style.top=t.offset().top+"px"}(),function(){const e=document.querySelector("video:not(#rewardvideo)");e&&(e.paused||e.pause())}()}},100)}(),$("#habitlab_video_overlay").length>0&&$("#habitlab_video_overlay").remove(),e="begin",c("video:not(#rewardvideo)"),function(e){if(window.intervention_disabled)return;var t=$("video:not(#rewardvideo)");if(0==t.length)return;if(0==t.width()||0==t.height())return;if(s().data("location")==window.location.href)return;var n=u(".html5-video-player","video:not(#rewardvideo)","#player-api");if(0==n.width()||0==n.height())return;$("#habitlab_video_overlay").remove();const o=$("<div>");$(document.body).append($(function(e,t){if(e.length&&e.length>0)return e=e[0],t||(t={}),t.shadow_div=e,function(e){if(e||(e={}),e.shadow_div){var t=e.shadow_div;delete e.shadow_div}else var t=document.createElement("div");e=function(e){var t={};for(var n in e)t[to_camelcase_string(n)]=e[n];return t}(e);for(let t in e)e[t]&&(e[t]=e[t]);let n=document.createElement("div"),r=n.createShadowRoot();for(var o in e)t.style[o]=e[v];r.appendChild(t),t.shadow_root=r,t.shadow_host=n,n.shadow_root=r,n.shadow_div=t}(t),e.shadow_host}(o)).attr("id","habitlab_video_overlay")),o.css({position:"absolute",display:"table"}),o.data("location",window.location.href).data("duration_set",!1);const i=$("<div>").addClass("contentContainer").css({"text-align":"center",display:"table-cell","vertical-align":"middle"});i.append("<habitlab-logo-v2>"),i.append("<br><br>");const a=$("<h2>").attr("id","message_text").css("font-weight","normal");a.css("color","#FFFFFF"),a.css("margin-bottom","10%"),i.append(a),i.append($("<br>"));var l={cursor:"pointer",width:"119px",background:"#333333","border-radius":"3px","border-radius":"3px","font-family":"PingFangSC-Regular","font-size":"16px",color:"#FFFFFF","text-align":"center","margin-left":"25px",display:"inline-block"};window.innerWidth<596?(i.append(h(r.ZH,chrome.i18n.getMessage("transZh2En"),l)),i.append(h(r.EN,chrome.i18n.getMessage("transEn2Zh"),l)),i.append(h(r.JA,chrome.i18n.getMessage("transJp2Zh"),l))):(i.append(h(r.ZH,chrome.i18n.getMessage("transZh2EnAbbr"),l)),i.append(h(r.EN,chrome.i18n.getMessage("transEn2ZhAbbr"),l)),i.append(h(r.JA,chrome.i18n.getMessage("transJp2ZhAbbr"),l)));const d=$("<button>");var c;d.text(chrome.i18n.getMessage("closeTrans")),d.css(l),d.mouseenter(()=>{d.css("background","#03BA79")}).mouseleave(()=>{d.css("background","#333333")}),d.click(()=>{f(),$button1.hide(),d.hide()}),i.append(d),o.append(i),"begin"===e&&((c=s()).data("duration_set")||c.find("#message_text").html('<span style="visibility: hidden">This video is XX minutes and XX seconds long.<br>Are you sure you want to play it?</span>'),y||(y=setInterval(p,100)),p())}(e))}function s(){var e=$("#habitlab_video_overlay");return 0==e.length?$():$(e[0].shadow_div)}function c(e,t){let n=document.querySelector(e);for(;!n;)n=document.querySelector(e);return t&&t(n),n}function u(...e){for(var t of e){var n=$(t);if(n.length>0)return n}return $()}function h(e,t,n){let r=$("<button>"),o=t;return r.attr("name","langBtn"),r.text(o),r.value=e,r.css(n),r.click(()=>{!function(e){chrome.runtime.sendMessage({type:"showSubByLangSelector",lang:e})}(e),f()}),r.mouseenter(()=>{r.css("background","#03BA79")}).mouseleave(()=>{r.css("background","#333333")}),r}function f(){l=!0,$("#habitlab_video_overlay").remove(),document.querySelector("video:not(#rewardvideo)").play()}var y=null;function p(){var e=s();if(0==e.length)return!1;if(g()&&g()!=function(){if($("ytd-watch").length>0&&null!=$("ytd-watch").attr("video-id"))return $("ytd-watch").attr("video-id");if($("ytd-watch-flexy").length>0&&null!=$("ytd-watch-flexy").attr("video-id"))return $("ytd-watch-flexy").attr("video-id");var e=$("#page");if(0==e.length)return"";var t=e[0].className.split(" ").filter(e=>e.startsWith("video-"));if(0==t.length)return"";return t[0].substr("video-".length)}())return!1;if(1==e.data("duration_set"))return clearInterval(y),y=null,!0;var t=$("video:not(#rewardvideo)");if(0==t.length)return;const n=Math.round(t[0].duration);if(!isNaN(n)){Math.floor(n/60);return e.find("#message_text").html(chrome.i18n.getMessage("videoTransTitle")+"<br><br>"+chrome.i18n.getMessage("videoTransDes1")+"<br>"+chrome.i18n.getMessage("videoTransDes2")),clearInterval(y),y=null,e.data("duration_set",!0),!0}return!1}function g(){var e=window.location.href.match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/);return e?e[1]:null}chrome.runtime.onMessage.addListener(function(e,t,n){"on"==e.action&&c("video:not(#rewardvideo)",()=>{null!=i&&(clearInterval(i),i=null),null!=a&&(clearInterval(a),a=null),"file:"===location.protocol&&(0,o.hideCyxyIcon)(),d()})})}});