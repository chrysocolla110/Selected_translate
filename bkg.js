!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JA=t.EN=t.ZH=t.DEFAULT_LANG=t.CY_TOKEN=void 0;t.ZH="zh";t.EN="en";t.JA="ja-JP";t.DEFAULT_LANG="en";t.CY_TOKEN="ejlj3pmk56ss057lt4l4"},,,function(e,t,r){"use strict";var n,i,o=r(0);r(4);var a=r(6);function s(e){chrome.tabs.sendMessage(d,{type:"show_msg",msg_str:e})}function c(e,t,r){if(i.readyState==WebSocket.OPEN){for(let t=0;t<e.length;t++)i.send(e[t]);e.length=0}else i.readyState==WebSocket.CONNECTING?s(chrome.i18n.getMessage("WsIsConnecting")):(s(chrome.i18n.getMessage("WsIsNotOpened")),f())}a.config(o.PUBLIC_SENTRY_URL,{release:"1.1.0",environment:"prod",sampleRate:1}).install();var u=function(e){let t=JSON.parse(e);t&&0==t.rc&&t.target?chrome.tabs.sendMessage(d,{type:"subtitleMsg",subtitle:t}):chrome.tabs.sendMessage(d,{type:"subtitleMsg",subtitle:null})},l=!1;function f(){var e=6;g==o.JA&&(e=12),(i=new WebSocket("ws://api.interpreter.caiyunai.com/v1/audio",["subprotocols",`lang#${g}`,`x-authorization#${o.CY_TOKEN}`,"if_interim_results#true",`trans_interval#${e}`])).onopen=function(){s(chrome.i18n.getMessage("wsIsOpened")),l||(n&&(n.start(),s(chrome.i18n.getMessage("recording"))),l=!0)},chrome.runtime.lastError,i.onmessage=function(e){u(e.data)},i.onerror=function(e){s(chrome.i18n.getMessage("wsError")),I(2500),h(function(){s(chrome.i18n.getMessage("closeRecorder")),sendResponse({type:"reset"})})}}function h(e){e=e||NOOP,n?n.close(e):e(),l=!1,i&&(i.CLOSED||i.close())}var p="",d=-1,m=[],g=o.DEFAULT_LANG,v="cyxy-",y=`${v}video`;function b(e,t,r){if("showSubByLangSelector"==e.type){let r=!1;W(t.tab.id,e.lang,r),ga("send","event",y,e.type,e.lang)}else"showSubByVideoBtn"==e.type?chrome.tabs.query({active:!0,currentWindow:!0},function(e){if(!e[0])return;let r=e[0].url;r.match(x)||(p=r,d=e[0].id,C(function(){W(t.tab.id,g,!0),ga("send","event","video",`transByVideoBtn:${g}`)},function(){ga("send","event","video","requestLogin")}))}):"closeSubByVideoBtn"==e.type?(chrome.tabs.sendMessage(d,{type:"closeSubtitle"}),ga("send","event",y,e.type,g)):"recopen"==e.type?(h(function(){g=e.lang,(n=Recorder({bitRate:16,sampleRate:16e3,type:"wav",bufferSize:4096,onProcess:c})).open_tab_audio_stream(function(){s(chrome.i18n.getMessage("openRecorder")),f()},function(e){s(chrome.i18n.getMessage("openRecorderError")+e)}),r({type:"accept"})}),ga("send","event",y,e.type,e.lang)):"recclose"==e.type?(h(function(){s(chrome.i18n.getMessage("closeRecorder")),r({type:"reset"})}),ga("send","event",y,e.type,e.lang)):"switchTrack"==e.type?ga("send","event",y,e.typ,e.newTrack):"clickCyxyBtn"==e.type&&(w?ga("send","event",`${v}${e.btnName}`,"click","isLoggedIn"):ga("send","event",`${v}${e.btnName}`,"click","isUnlogin"))}var w="",k=-1;function E(e,t,r){if("fetchUrl"==e.contentScriptQuery){const t={};if(t.method=e.method||"GET",t.headers={"content-type":"application/json"},e.data&&(t.body=JSON.stringify(e.data)),e.headers){var n=t.headers;for(var i in e.headers)n[i]=e.headers[i];t.headers=n}return fetch(e.url,t).then(e=>e.text()).then(e=>{r({status:"ok",data:e});let t=JSON.parse(e);if(t.cookies&&""==w&&t.cookies.cy_user){let e=JSON.parse(decodeURIComponent(t.cookies.cy_user));e.is_login&&(w=e._id,M=w)}t.auth_type&&(k=t.auth_type)}).catch(e=>{r({status:"error",error:e}),a.captureException(e)}),!0}}const x="^(chrome://).+",S="^(http(s)?://)?((w){3}.)?youtu(be|.be)?(.com)?/.+",O="^(file:///).+(mp3|mp4|avi|flv|wmv|mov)$";function R(e,t){return new Promise((r,n)=>{chrome.tabs.executeScript(e,t,e=>{chrome.runtime.lastError?n(chrome.runtime.lastError.message):r(e)})})}function j(e,t){chrome.tabs.query({active:!0,currentWindow:!0},function(r){if(!r[0])return;let n=r[0].url;p.match(O)&&n==p&&chrome.extension.isAllowedFileSchemeAccess(function(e){if(!e)return alert(chrome.i18n.getMessage("RequireAllowAccessFile")),void chrome.tabs.create({url:"chrome://extensions/?id="+chrome.runtime.id})}),chrome.runtime.onMessage.hasListener(E)||chrome.runtime.onMessage.addListener(E),chrome.runtime.onMessage.hasListener(b)||chrome.runtime.onMessage.addListener(b),chrome.tabs.executeScript(e,{file:"trs.js",runAt:t}),chrome.tabs.executeScript(e,{file:"vbt.js",runAt:t}),async function(e){try{await R(e,{file:"jquery.js"}),await R(e,{file:"sub.js"}),(p.match(O)||p.match(S))&&C(A,null)}catch(e){chrome.tabs.sendMessage(d,{type:"alert",content:e,time:5}),a.captureException(e)}}()})}chrome.webNavigation.onHistoryStateUpdated.addListener(function(e){0===e.frameId&&-1!=d&&""!=p&&chrome.tabs.get(e.tabId,function(e){p.match(S)&&e.id==d&&e.url!=p&&(p=e.url,chrome.tabs.update(d,{url:p}))})}),chrome.browserAction.onClicked.addListener(function(e){!function(e,t){let r=["https://*/*","http://*/*"];e.match(O)?chrome.extension.isAllowedFileSchemeAccess(function(e){if(!e)return alert(chrome.i18n.getMessage("RequireAllowAccessFile")),void chrome.tabs.create({url:"chrome://extensions/?id="+chrome.runtime.id});r.push("file://*/*"),t(r)}):t(r)}(e.url,function(t){chrome.permissions.request({permissions:["cookies"],origins:t},function(t){t?(chrome.cookies.onChanged.addListener(async function(e){if(!e||!1 in e)return;let t=e.cookie;if(".caiyunapp.com"!=t.domain||"cy_user"!=t.name)return;let[r,n,i]=await T();r&&i&&(w=n,l&&(h(function(){s(chrome.i18n.getMessage("closeRecorder"))}),chrome.tabs.sendMessage(d,{type:"closeSubtitle"})),-1!=d&&chrome.tabs.update(d,{url:p},function(e,t){I(500),j(d,"document_end")}))}),async function(e){let[t,r,n]=await T();t&&(w=r);chrome.tabs.query({active:!0,currentWindow:!0},function(e){if(!e[0])return;let t=e[0].url;t.match(x)||(p=t,j(d=e[0].id,"document_start"))}),ga("send","pageview",e.url)}(e)):alert(chrome.i18n.getMessage("getCookieFailed"))})})});let M="";function T(){return new Promise(function(e,t){let r=!1;chrome.cookies.get({url:"https://caiyunapp.com",name:"cy_user"},function(t){let n="",i=!1;if(r=!0,t&&t.value){let e=decodeURIComponent(t.value);if(e=e.replace('}"',"}").replace('"{',"{")){n=JSON.parse(e)._id}}M!=n&&(i=!0),M=n,chrome.runtime.lastError&&a.captureException(chrome.runtime.lastError.message),e([r,n,i])}),chrome.runtime.lastError&&(t(chrome.runtime.lastError.message),a.captureException(error))})}function C(e,t){let r=e||function(){},n=t||function(){};if(w)return void r();fetch("https://biz.caiyunapp.com/test_cookies",{method:"GET",headers:{"content-type":"application/json"}}).then(e=>e.text()).then(e=>{let t=JSON.parse(e);if(t.cookies&&t.cookies.cy_user){let e=JSON.parse(decodeURIComponent(t.cookies.cy_user));if(e.is_login)return w=e._id,M=w,void r()}chrome.tabs.sendMessage(d,{type:"alert",content:chrome.i18n.getMessage("VideoTransReqLogin"),time:5}),n()})}function A(){if(-101!=k){q(d);try{chrome.tabs.executeScript(d,{file:"lgs.js",runAt:"document_start"}),function e(t){setTimeout(chrome.tabs.sendMessage(t,{action:"on"},function(r){if(chrome.runtime.lastError){chrome.runtime.lastError.message}!r&&B<5?(B+=1,e(t)):(m.includes(t)||m.push(t),B=0)}),200)}(d)}catch(e){a.captureException(e)}}}var L,_,N,U,F,P,B=0;function I(e){for(var t=(new Date).getTime();(new Date).getTime()<t+e;);}function q(e){if(chrome.runtime.onMessage.hasListener(b)){try{chrome.tabs.sendMessage(e,{action:"close"}),chrome.tabs.sendMessage(e,{type:"closeSubtitle"})}catch(e){a.captureException(e)}h(function(){})}}function W(e,t,r){d=e,chrome.tabs.sendMessage(d,{type:"showSubtitle",lang:t,showLangMenu:r}),m=m.filter(e=>e!==d);for(let e=0;e<m.length;e++){let t=m[e];chrome.tabs.get(t,function(){chrome.runtime.lastError||q(t)})}m=[d]}L=window,_=document,N="script",U="ga",L.GoogleAnalyticsObject=U,L.ga=L.ga||function(){(L.ga.q=L.ga.q||[]).push(arguments)},L.ga.l=1*new Date,F=_.createElement(N),P=_.getElementsByTagName(N)[0],F.async=1,F.src="https://www.google-analytics.com/analytics.js",P.parentNode.insertBefore(F,P),window.ga_debug={trace:!0},ga("create","UA-83184075-2",{cookieDomain:"none"}),ga("set","checkProtocolTask",function(){})},function(e,t,r){"use strict";var n=r(5);!function(e){e.RecorderLM="2018-09-19 10:50";var t=function(){},r={extend:function(e,t){for(var r in e||(e={}),t||(t={}),t)e[r]=t[r];return e}};function i(e){return new o(e)}function o(e){this.set=r.extend({type:"wav",bitRate:16,sampleRate:16e3,bufferSize:8192,onProcess:t},e)}i.IsOpen=function(){var e=i.Stream;if(e){var t=e.getTracks();if(t.length>0)return"live"==t[0].readyState}return!1},o.prototype={open:function(r,n){if(r=r||t,n=n||t,i.IsOpen())r();else{var o=e.AudioContext;if(o||(o=e.webkitAudioContext),o){var a=navigator.mediaDevices||{};if(a.getUserMedia||(a=navigator).getUserMedia||(a.getUserMedia=a.webkitGetUserMedia||a.mozGetUserMedia||a.msGetUserMedia),a.getUserMedia){i.Ctx=i.Ctx||new o;var s=function(e){i.Stream=e,r()},c=function(e){var t=e.code||e.name||"";n(/Permission/i.test(t)?"用户拒绝了录音权限":"无法录音："+t)},u=a.getUserMedia({audio:!0},s,c);u&&u.then&&u.then(s).catch(c)}else n("此浏览器不支持录音")}else n("此浏览器不支持录音")}},open_tab_audio_stream:function(r,n){if(r=r||t,n=n||t,i.IsOpen())r();else{var o=e.AudioContext;o||(o=e.webkitAudioContext),o?(i.Ctx=i.Ctx||new o,chrome.tabs.query({active:!0,currentWindow:!0},function(e){var t={audio:!0,video:!1,audioConstraints:{mandatory:{chromeMediaSource:"tab"}}};chrome.tabCapture.capture(t,e=>{e&&(i.Stream=e,r())})})):n("此浏览器不支持录音")}},close:function(e){e=e||t;this._stop();var r=i.Stream;if(r)for(var n=r.getTracks(),o=0;o<n.length;o++)n[o].stop();i.Stream=0,e()},start:function(){var e=this,t=e.set,r=e.buffer=[];if(e.recSize=0,e._stop(),e.state=0,!i.IsOpen())return;const o=i.Stream;var a,s=i.Ctx,c=e.media=s.createMediaStreamSource(i.Stream),u=e.process=(s.createScriptProcessor||s.createJavaScriptNode).call(s,t.bufferSize,1,1);u.onaudioprocess=function(o){if(1==e.state){var s,c=o.inputBuffer.getChannelData(0);if(i.Ctx.sampleRate==e.set.sampleRate)s=c;else{var u=new n.Resampler(i.Ctx.sampleRate,e.set.sampleRate,1,c);s=u.resampler(c.length)>0?u.outputBuffer:c}for(var l=new Int16Array(s.length),f=0,h=0;h<s.length;h++){var p=Math.max(-1,Math.min(1,s[h]));p=p<0?32768*p:32767*p,l[h]=p,f+=Math.abs(p)}r.push(l),e.recSize+=l.length,f/=l.length;var d=0;f>0&&(d=Math.round(Math.max(0,100*(20*Math.log10(f/32767)+34)/34)));var m=Math.round(e.recSize/e.set.sampleRate*1e3);clearTimeout(a),a=setTimeout(function(){t.onProcess(r,d,m)})}},c.connect(u),u.connect(s.destination),e.state=1;let l=new Audio;l.srcObject=o,l.play()},_stop:function(){this.state&&(this.state=0,this.media.disconnect(),this.process.disconnect())},pause:function(e){this.state&&(this.state=e||2)},resume:function(){this.pause(1)},stop:function(e,r){e=e||t,r=r||t;var n=this,i=n.set;if(n.state){n._stop();var o=n.recSize;if(o){for(var a=new Int16Array(o),s=0,c=0;c<n.buffer.length;c++){var u=n.buffer[c];a.set(u,s),s+=u.length}var l=Math.round(o/i.sampleRate*1e3);setTimeout(function(){Date.now();n[i.type](a,function(t){e(t,l)})})}else r("未采集到录音")}else r("未开始录音")},wav:function(e,t){var r=this.set,n=this.recSize,i=r.sampleRate,o=r.sampleRate,a=8==r.bitRate?8:16,s=Math.round(o/i);if(s>1){n=Math.floor(n/s);for(var c=new Int16Array(n),u=0,l=0;u<n;)c[u]=e[l],l+=s,u++;e=c}else i=o;var f=n*(a/8),h=new ArrayBuffer(44+f),p=new DataView(h),d=0,m=function(e){for(var t=0;t<e.length;t++,d++)p.setUint8(d,e.charCodeAt(t))},g=function(e){p.setUint16(d,e,!0),d+=2},v=function(e){p.setUint32(d,e,!0),d+=4};if(m("RIFF"),v(36+f),m("WAVE"),m("fmt "),v(16),g(1),g(1),v(i),v(i*(a/8)),g(a/8),g(a),m("data"),v(f),8==a)for(u=0;u<n;u++,d++){var y=e[u];y=parseInt(255/(65535/(y+32768))),p.setInt8(d,y,!0)}else for(u=0;u<n;u++,d+=2)p.setInt16(d,e[u],!0);t(new Blob([p],{type:"audio/wav"}))}},e.Recorder=i}(window)},function(e,t,r){"use strict";function n(e,t,r,n){if(this.fromSampleRate=+e,this.toSampleRate=+t,this.channels=0|r,"object"!=typeof n)throw new Error("inputBuffer is not an object.");if(!(n instanceof Array||n instanceof Float32Array||n instanceof Float64Array))throw new Error("inputBuffer is not an array or a float32 or a float64 array.");this.inputBuffer=n,this.initialize()}Object.defineProperty(t,"__esModule",{value:!0}),t.Resampler=n,n.prototype.initialize=function(){if(!(this.fromSampleRate>0&&this.toSampleRate>0&&this.channels>0))throw new Error("Invalid settings specified for the resampler.");this.fromSampleRate==this.toSampleRate?(this.resampler=this.bypassResampler,this.ratioWeight=1,this.outputBuffer=this.inputBuffer):(this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.fromSampleRate<this.toSampleRate?(this.compileLinearInterpolationFunction(),this.lastWeight=1):(this.compileMultiTapFunction(),this.tailExists=!1,this.lastWeight=0),this.initializeBuffers())},n.prototype.compileLinearInterpolationFunction=function(){for(var e="var outputOffset = 0;    if (bufferLength > 0) {        var buffer = this.inputBuffer;        var weight = this.lastWeight;        var firstWeight = 0;        var secondWeight = 0;        var sourceOffset = 0;        var outputOffset = 0;        var outputBuffer = this.outputBuffer;        for (; weight < 1; weight += "+this.ratioWeight+") {            secondWeight = weight % 1;            firstWeight = 1 - secondWeight;",t=0;t<this.channels;++t)e+="outputBuffer[outputOffset++] = (this.lastOutput["+t+"] * firstWeight) + (buffer["+t+"] * secondWeight);";e+="}        weight -= 1;        for (bufferLength -= "+this.channels+", sourceOffset = Math.floor(weight) * "+this.channels+"; sourceOffset < bufferLength;) {            secondWeight = weight % 1;            firstWeight = 1 - secondWeight;";for(t=0;t<this.channels;++t)e+="outputBuffer[outputOffset++] = (buffer[sourceOffset"+(t>0?" + "+t:"")+"] * firstWeight) + (buffer[sourceOffset + "+(this.channels+t)+"] * secondWeight);";e+="weight += "+this.ratioWeight+";            sourceOffset = Math.floor(weight) * "+this.channels+";        }";for(t=0;t<this.channels;++t)e+="this.lastOutput["+t+"] = buffer[sourceOffset++];";e+="this.lastWeight = weight % 1;    }    return outputOffset;",this.resampler=Function("bufferLength",e)},n.prototype.compileMultiTapFunction=function(){for(var e="var outputOffset = 0;    if (bufferLength > 0) {        var buffer = this.inputBuffer;        var weight = 0;",t=0;t<this.channels;++t)e+="var output"+t+" = 0;";for(e+="var actualPosition = 0;        var amountToNext = 0;        var alreadyProcessedTail = !this.tailExists;        this.tailExists = false;        var outputBuffer = this.outputBuffer;        var currentPosition = 0;        do {            if (alreadyProcessedTail) {                weight = "+this.ratioWeight+";",t=0;t<this.channels;++t)e+="output"+t+" = 0;";for(e+="}            else {                weight = this.lastWeight;",t=0;t<this.channels;++t)e+="output"+t+" = this.lastOutput["+t+"];";for(e+="alreadyProcessedTail = true;            }            while (weight > 0 && actualPosition < bufferLength) {                amountToNext = 1 + actualPosition - currentPosition;                if (weight >= amountToNext) {",t=0;t<this.channels;++t)e+="output"+t+" += buffer[actualPosition++] * amountToNext;";for(e+="currentPosition = actualPosition;                    weight -= amountToNext;                }                else {",t=0;t<this.channels;++t)e+="output"+t+" += buffer[actualPosition"+(t>0?" + "+t:"")+"] * weight;";for(e+="currentPosition += weight;                    weight = 0;                    break;                }            }            if (weight <= 0) {",t=0;t<this.channels;++t)e+="outputBuffer[outputOffset++] = output"+t+" / "+this.ratioWeight+";";for(e+="}            else {                this.lastWeight = weight;",t=0;t<this.channels;++t)e+="this.lastOutput["+t+"] = output"+t+";";e+="this.tailExists = true;                break;            }        } while (actualPosition < bufferLength);    }    return outputOffset;",this.resampler=Function("bufferLength",e)},n.prototype.bypassResampler=function(e){return e},n.prototype.initializeBuffers=function(){var e=Math.ceil(this.inputBuffer.length*this.toSampleRate/this.fromSampleRate/this.channels*1.0000004768371582)*this.channels+this.channels;try{this.outputBuffer=new Float32Array(e),this.lastOutput=new Float32Array(this.channels)}catch(e){this.outputBuffer=[],this.lastOutput=[]}}},function(e,t,r){(function(t){var r;e.exports=function e(t,n,i){function o(s,c){if(!n[s]){if(!t[s]){var u="function"==typeof r&&r;if(!c&&u)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return o(r||e)},f,f.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,r){function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,t.exports=n},{}],2:[function(e,t,r){var n=e(5);t.exports={wrapMethod:function(e,t,r){var i=e[t],o=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=n.safeJoin(e," "),c={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(n.safeJoin(e.slice(1)," ")||"console.assert"),c.extra.arguments=e.slice(1),r&&r(s,c)):r&&r(s,c),i&&Function.prototype.apply.call(i,o,e)}}}}},{5:5}],3:[function(e,r,n){(function(t){function n(){return+new Date}function i(e,t){return y(t)?function(r){return t(r,e)}:t}function o(){for(var e in this.a=!("object"!=typeof JSON||!JSON.stringify),this.b=!v(H),this.c=!v($),this.d=null,this.e=null,this.f=null,this.g=null,this.h=null,this.i=null,this.j={},this.k={release:z.SENTRY_RELEASE&&z.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this.l={method:"POST",keepalive:!0,referrerPolicy:F()?"origin":""},this.m=0,this.n=!1,this.o=Error.stackTraceLimit,this.p=z.console||{},this.q={},this.r=[],this.s=n(),this.t=[],this.u=[],this.v=null,this.w=z.location,this.x=this.w&&this.w.href,this.y(),this.p)this.q[e]=this.p[e]}var a=e(6),s=e(7),c=e(8),u=e(1),l=e(5),f=l.isErrorEvent,h=l.isDOMError,p=l.isDOMException,d=l.isError,m=l.isObject,g=l.isPlainObject,v=l.isUndefined,y=l.isFunction,b=l.isString,w=l.isArray,k=l.isEmptyObject,E=l.each,x=l.objectMerge,S=l.truncate,O=l.objectFrozen,R=l.hasKey,j=l.joinRegExp,M=l.urlencode,T=l.uuid4,C=l.htmlTreeAsString,A=l.isSameException,L=l.isSameStacktrace,_=l.parseUrl,N=l.fill,U=l.supportsFetch,F=l.supportsReferrerPolicy,P=l.serializeKeysForMessage,B=l.serializeException,I=l.sanitize,q=e(2).wrapMethod,W="source protocol user pass host port path".split(" "),D=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,z="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},H=z.document,$=z.navigator;o.prototype={VERSION:"3.26.4",debug:!1,TraceKit:a,config:function(e,t){var r=this;if(r.g)return this.z("error","Error: Raven has already been configured"),r;if(!e)return r;var n=r.k;t&&E(t,function(e,t){"tags"===e||"extra"===e||"user"===e?r.j[e]=t:n[e]=t}),r.setDSN(e),n.ignoreErrors.push(/^Script error\.?$/),n.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),n.ignoreErrors=j(n.ignoreErrors),n.ignoreUrls=!!n.ignoreUrls.length&&j(n.ignoreUrls),n.whitelistUrls=!!n.whitelistUrls.length&&j(n.whitelistUrls),n.includePaths=j(n.includePaths),n.maxBreadcrumbs=Math.max(0,Math.min(n.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},o=n.autoBreadcrumbs;"[object Object]"==={}.toString.call(o)?o=x(i,o):!1!==o&&(o=i),n.autoBreadcrumbs=o;var s={tryCatch:!0},c=n.instrument;return"[object Object]"==={}.toString.call(c)?c=x(s,c):!1!==c&&(c=s),n.instrument=c,a.collectWindowErrors=!!n.collectWindowErrors,r},install:function(){var e=this;return e.isSetup()&&!e.n&&(a.report.subscribe(function(){e.A.apply(e,arguments)}),e.k.captureUnhandledRejections&&e.B(),e.C(),e.k.instrument&&e.k.instrument.tryCatch&&e.D(),e.k.autoBreadcrumbs&&e.E(),e.F(),e.n=!0),Error.stackTraceLimit=e.k.stackTraceLimit,this},setDSN:function(e){var t=this,r=t.G(e),n=r.path.lastIndexOf("/"),i=r.path.substr(1,n);t.H=e,t.h=r.user,t.I=r.pass&&r.pass.substr(1),t.i=r.path.substr(n+1),t.g=t.J(r),t.K=t.g+"/"+i+"api/"+t.i+"/store/",this.y()},context:function(e,t,r){return y(e)&&(r=t||[],t=e,e={}),this.wrap(e,t).apply(this,r)},wrap:function(e,t,r){function n(){var n=[],o=arguments.length,a=!e||e&&!1!==e.deep;for(r&&y(r)&&r.apply(this,arguments);o--;)n[o]=a?i.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,n)}catch(t){throw i.L(),i.captureException(t,e),t}}var i=this;if(v(t)&&!y(e))return e;if(y(e)&&(t=e,e=void 0),!y(t))return t;try{if(t.M)return t;if(t.N)return t.N}catch(e){return t}for(var o in t)R(t,o)&&(n[o]=t[o]);return n.prototype=t.prototype,t.N=n,n.M=!0,n.O=t,n},uninstall:function(){return a.report.uninstall(),this.P(),this.Q(),this.R(),this.S(),Error.stackTraceLimit=this.o,this.n=!1,this},T:function(e){this.z("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},B:function(){return this.T=this.T.bind(this),z.addEventListener&&z.addEventListener("unhandledrejection",this.T),this},P:function(){return z.removeEventListener&&z.removeEventListener("unhandledrejection",this.T),this},captureException:function(e,t){if(t=x({trimHeadFrames:0},t||{}),f(e)&&e.error)e=e.error;else{if(h(e)||p(e)){var r=e.name||(h(e)?"DOMError":"DOMException"),n=e.message?r+": "+e.message:r;return this.captureMessage(n,x(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(d(e))e=e;else{if(!g(e))return this.captureMessage(e,x(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this.U(t,e),e=new Error(t.message)}}this.d=e;try{var i=a.computeStackTrace(e);this.V(i,t)}catch(t){if(e!==t)throw t}return this},U:function(e,t){var r=Object.keys(t).sort(),n=x(e,{message:"Non-Error exception captured with keys: "+P(r),fingerprint:[c(r)],extra:e.extra||{}});return n.extra.W=B(t),n},captureMessage:function(e,t){if(!this.k.ignoreErrors.test||!this.k.ignoreErrors.test(e)){var r,n=x({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){r=e}r.name=null;var i=a.computeStackTrace(r),o=w(i.stack)&&i.stack[1];o&&"Raven.captureException"===o.func&&(o=i.stack[2]);var s=o&&o.url||"";if((!this.k.ignoreUrls.test||!this.k.ignoreUrls.test(s))&&(!this.k.whitelistUrls.test||this.k.whitelistUrls.test(s))){if(this.k.stacktrace||t.stacktrace||""===n.message){n.fingerprint=null==n.fingerprint?e:n.fingerprint,(t=x({trimHeadFrames:0},t)).trimHeadFrames+=1;var c=this.X(i,t);n.stacktrace={frames:c.reverse()}}return n.fingerprint&&(n.fingerprint=w(n.fingerprint)?n.fingerprint:[n.fingerprint]),this.Y(n),this}}},captureBreadcrumb:function(e){var t=x({timestamp:n()/1e3},e);if(y(this.k.breadcrumbCallback)){var r=this.k.breadcrumbCallback(t);if(m(r)&&!k(r))t=r;else if(!1===r)return this}return this.u.push(t),this.u.length>this.k.maxBreadcrumbs&&this.u.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this.r.push([e,t]),this.n&&this.F(),this},setUserContext:function(e){return this.j.user=e,this},setExtraContext:function(e){return this.Z("extra",e),this},setTagsContext:function(e){return this.Z("tags",e),this},clearContext:function(){return this.j={},this},getContext:function(){return JSON.parse(s(this.j))},setEnvironment:function(e){return this.k.environment=e,this},setRelease:function(e){return this.k.release=e,this},setDataCallback:function(e){var t=this.k.dataCallback;return this.k.dataCallback=i(t,e),this},setBreadcrumbCallback:function(e){var t=this.k.breadcrumbCallback;return this.k.breadcrumbCallback=i(t,e),this},setShouldSendCallback:function(e){var t=this.k.shouldSendCallback;return this.k.shouldSendCallback=i(t,e),this},setTransport:function(e){return this.k.transport=e,this},lastException:function(){return this.d},lastEventId:function(){return this.f},isSetup:function(){return!(!this.a||!this.g&&(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this.z("error","Error: Raven has not been configured.")),1))},afterLoad:function(){var e=z.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(H){if(!(e=Object.assign({eventId:this.lastEventId(),dsn:this.H,user:this.j.user||{}},e)).eventId)throw new u("Missing eventId");if(!e.dsn)throw new u("Missing DSN");var t=encodeURIComponent,r=[];for(var n in e)if("user"===n){var i=e.user;i.name&&r.push("name="+t(i.name)),i.email&&r.push("email="+t(i.email))}else r.push(t(n)+"="+t(e[n]));var o=this.J(this.G(e.dsn)),a=H.createElement("script");a.async=!0,a.src=o+"/api/embed/error-page/?"+r.join("&"),(H.head||H.body).appendChild(a)}},L:function(){var e=this;this.m+=1,setTimeout(function(){e.m-=1})},$:function(e,t){var r,n;if(this.b){for(n in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),H.createEvent?(r=H.createEvent("HTMLEvents")).initEvent(e,!0,!0):(r=H.createEventObject()).eventType=e,t)R(t,n)&&(r[n]=t[n]);if(H.createEvent)H.dispatchEvent(r);else try{H.fireEvent("on"+r.eventType.toLowerCase(),r)}catch(e){}}},_:function(e){var t=this;return function(r){if(t.aa=null,t.v!==r){var n;t.v=r;try{n=C(r.target)}catch(e){n="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:n})}}},ba:function(){var e=this;return function(t){var r;try{r=t.target}catch(e){return}var n=r&&r.tagName;if(n&&("INPUT"===n||"TEXTAREA"===n||r.isContentEditable)){var i=e.aa;i||e._("input")(t),clearTimeout(i),e.aa=setTimeout(function(){e.aa=null},1e3)}}},ca:function(e,t){var r=_(this.w.href),n=_(t),i=_(e);this.x=t,r.protocol===n.protocol&&r.host===n.host&&(t=n.relative),r.protocol===i.protocol&&r.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},C:function(){var e=this;e.da=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.M?e.da.apply(this.O,arguments):e.da.apply(this,arguments)}},Q:function(){this.da&&(Function.prototype.toString=this.da)},D:function(){function e(e){return function(t,n){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return y(a)&&(i[0]=r.wrap({mechanism:{type:"instrument",data:{function:e.name||"<anonymous>"}}},a)),e.apply?e.apply(this,i):e(i[0],i[1])}}function t(e){var t=z[e]&&z[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(N(t,"addEventListener",function(t){return function(n,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=r.wrap({mechanism:{type:"instrument",data:{target:e,function:"handleEvent",handler:o&&o.name||"<anonymous>"}}},o.handleEvent))}catch(e){}var c,u,l;return i&&i.dom&&("EventTarget"===e||"Node"===e)&&(u=r._("click"),l=r.ba(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?u(e):"keypress"===t?l(e):void 0}}),t.call(this,n,r.wrap({mechanism:{type:"instrument",data:{target:e,function:"addEventListener",handler:o&&o.name||"<anonymous>"}}},o,c),a,s)}},n),N(t,"removeEventListener",function(e){return function(t,r,n,i){try{r=r&&(r.N?r.N:r)}catch(e){}return e.call(this,t,r,n,i)}},n))}var r=this,n=r.t,i=this.k.autoBreadcrumbs;N(z,"setTimeout",e,n),N(z,"setInterval",e,n),z.requestAnimationFrame&&N(z,"requestAnimationFrame",function(e){return function(t){return e(r.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:e&&e.name||"<anonymous>"}}},t))}},n);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<o.length;a++)t(o[a])},E:function(){function e(e,r){e in r&&y(r[e])&&N(r,e,function(r){return t.wrap({mechanism:{type:"instrument",data:{function:e,handler:r&&r.name||"<anonymous>"}}},r)})}var t=this,r=this.k.autoBreadcrumbs,n=t.t;if(r.xhr&&"XMLHttpRequest"in z){var i=z.XMLHttpRequest&&z.XMLHttpRequest.prototype;N(i,"open",function(e){return function(r,n){return b(n)&&-1===n.indexOf(t.h)&&(this.ea={method:r,url:n,status_code:null}),e.apply(this,arguments)}},n),N(i,"send",function(r){return function(){function n(){if(i.ea&&4===i.readyState){try{i.ea.status_code=i.status}catch(e){}t.captureBreadcrumb({type:"http",category:"xhr",data:i.ea})}}for(var i=this,o=["onload","onerror","onprogress"],a=0;a<o.length;a++)e(o[a],i);return"onreadystatechange"in i&&y(i.onreadystatechange)?N(i,"onreadystatechange",function(e){return t.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:e&&e.name||"<anonymous>"}}},e,n)}):i.onreadystatechange=n,r.apply(this,arguments)}},n)}r.xhr&&U()&&N(z,"fetch",function(e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;++n)r[n]=arguments[n];var i,o=r[0],a="GET";if("string"==typeof o?i=o:"Request"in z&&o instanceof z.Request?(i=o.url,o.method&&(a=o.method)):i=""+o,-1!==i.indexOf(t.h))return e.apply(this,r);r[1]&&r[1].method&&(a=r[1].method);var s={method:a,url:i,status_code:null};return e.apply(this,r).then(function(e){return s.status_code=e.status,t.captureBreadcrumb({type:"http",category:"fetch",data:s}),e}).catch(function(e){throw t.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),e})}},n),r.dom&&this.b&&(H.addEventListener?(H.addEventListener("click",t._("click"),!1),H.addEventListener("keypress",t.ba(),!1)):H.attachEvent&&(H.attachEvent("onclick",t._("click")),H.attachEvent("onkeypress",t.ba())));var o=z.chrome,a=o&&o.app&&o.app.runtime,s=!a&&z.history&&z.history.pushState&&z.history.replaceState;if(r.location&&s){var c=z.onpopstate;z.onpopstate=function(){var e=t.w.href;if(t.ca(t.x,e),c)return c.apply(this,arguments)};var u=function(e){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&t.ca(t.x,r+""),e.apply(this,arguments)}};N(z.history,"pushState",u,n),N(z.history,"replaceState",u,n)}if(r.console&&"console"in z&&console.log){var l=function(e,r){t.captureBreadcrumb({message:e,level:r.level,category:"console"})};E(["debug","info","warn","error","log"],function(e,t){q(console,t,l)})}},R:function(){for(var e;this.t.length;){var t=(e=this.t.shift())[0],r=e[1],n=e[2];t[r]=n}},S:function(){for(var e in this.q)this.p[e]=this.q[e]},F:function(){var e=this;E(this.r,function(t,r){var n=r[0],i=r[1];n.apply(e,[e].concat(i))})},G:function(e){var t=D.exec(e),r={},n=7;try{for(;n--;)r[W[n]]=t[n]||""}catch(t){throw new u("Invalid DSN: "+e)}if(r.pass&&!this.k.allowSecretKey)throw new u("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return r},J:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},A:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this.m||this.V(e,t)},V:function(e,t){var r=this.X(e,t);this.$("handle",{stackInfo:e,options:t}),this.fa(e.name,e.message,e.url,e.lineno,r,t)},X:function(e,t){var r=this,n=[];if(e.stack&&e.stack.length&&(E(e.stack,function(t,i){var o=r.ga(i,e.url);o&&n.push(o)}),t&&t.trimHeadFrames))for(var i=0;i<t.trimHeadFrames&&i<n.length;i++)n[i].in_app=!1;return n=n.slice(0,this.k.stackTraceLimit)},ga:function(e,t){var r={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(r.filename=t),r.in_app=!(this.k.includePaths.test&&!this.k.includePaths.test(r.filename)||/(Raven|TraceKit)\./.test(r.function)||/raven\.(min\.)?js$/.test(r.filename)),r},fa:function(e,t,r,n,i,o){var a,s=(e?e+": ":"")+(t||"");if((!this.k.ignoreErrors.test||!this.k.ignoreErrors.test(t)&&!this.k.ignoreErrors.test(s))&&(i&&i.length?(r=i[0].filename||r,i.reverse(),a={frames:i}):r&&(a={frames:[{filename:r,lineno:n,in_app:!0}]}),(!this.k.ignoreUrls.test||!this.k.ignoreUrls.test(r))&&(!this.k.whitelistUrls.test||this.k.whitelistUrls.test(r)))){var c=x({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:r},o),u=c.exception.values[0];null==u.type&&""===u.value&&(u.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=x({type:"generic",handled:!0},c.exception.mechanism||{}),this.Y(c)}},ha:function(e){var t=this.k.maxMessageLength;if(e.message&&(e.message=S(e.message,t)),e.exception){var r=e.exception.values[0];r.value=S(r.value,t)}var n=e.request;return n&&(n.url&&(n.url=S(n.url,this.k.maxUrlLength)),n.Referer&&(n.Referer=S(n.Referer,this.k.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this.ia(e.breadcrumbs),e},ia:function(e){for(var t,r,n,i=["to","from","url"],o=0;o<e.values.length;++o)if((r=e.values[o]).hasOwnProperty("data")&&m(r.data)&&!O(r.data)){n=x({},r.data);for(var a=0;a<i.length;++a)t=i[a],n.hasOwnProperty(t)&&n[t]&&(n[t]=S(n[t],this.k.maxUrlLength));e.values[o].data=n}},ja:function(){if(this.c||this.b){var e={};return this.c&&$.userAgent&&(e.headers={"User-Agent":$.userAgent}),z.location&&z.location.href&&(e.url=z.location.href),this.b&&H.referrer&&(e.headers||(e.headers={}),e.headers.Referer=H.referrer),e}},y:function(){this.ka=0,this.la=null},ma:function(){return this.ka&&n()-this.la<this.ka},na:function(e){var t=this.e;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?L(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||A(e.exception,t.exception))},oa:function(e){if(!this.ma()){var t=e.status;if(400===t||401===t||429===t){var r;try{r=U()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),r=1e3*parseInt(r,10)}catch(e){}this.ka=r||2*this.ka||1e3,this.la=n()}}},Y:function(e){var t=this.k,r={project:this.i,logger:t.logger,platform:"javascript"},i=this.ja();if(i&&(r.request=i),e.trimHeadFrames&&delete e.trimHeadFrames,(e=x(r,e)).tags=x(x({},this.j.tags),e.tags),e.extra=x(x({},this.j.extra),e.extra),e.extra["session:duration"]=n()-this.s,this.u&&this.u.length>0&&(e.breadcrumbs={values:[].slice.call(this.u,0)}),this.j.user&&(e.user=this.j.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this.pa(e),Object.keys(e).forEach(function(t){(null==e[t]||""===e[t]||k(e[t]))&&delete e[t]}),y(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!k(e)&&(!y(t.shouldSendCallback)||t.shouldSendCallback(e)))return this.ma()?void this.z("warn","Raven dropped error due to backoff: ",e):void("number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this.qa(e):this.qa(e))},pa:function(e){return I(e,this.k.sanitizeKeys)},ra:function(){return T()},qa:function(e,t){var r=this,n=this.k;if(this.isSetup()){if(e=this.ha(e),!this.k.allowDuplicates&&this.na(e))return void this.z("warn","Raven dropped repeat event: ",e);this.f=e.event_id||(e.event_id=this.ra()),this.e=e,this.z("debug","Raven about to send:",e);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this.h};this.I&&(i.sentry_secret=this.I);var o=e.exception&&e.exception.values[0];this.k.autoBreadcrumbs&&this.k.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this.K;(n.transport||this._makeRequest).call(this,{url:a,auth:i,data:e,options:n,onSuccess:function(){r.y(),r.$("success",{data:e,src:a}),t&&t()},onError:function(n){r.z("error","Raven transport failed to send: ",n),n.request&&r.oa(n.request),r.$("failure",{data:e,src:a}),n=n||new Error("Raven send failed (no additional details provided)"),t&&t(n)}})}},_makeRequest:function(e){var t=e.url+"?"+M(e.auth),r=null,n={};if(e.options.headers&&(r=this.sa(e.options.headers)),e.options.fetchParameters&&(n=this.sa(e.options.fetchParameters)),U()){n.body=s(e.data);var i=x({},this.l),o=x(i,n);return r&&(o.headers=r),z.fetch(t,o).then(function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var r=new Error("Sentry error code: "+t.status);r.request=t,e.onError&&e.onError(r)}}).catch(function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))})}var a=z.XMLHttpRequest&&new z.XMLHttpRequest;if(a){var c="withCredentials"in a||"undefined"!=typeof XDomainRequest;c&&("withCredentials"in a?a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+a.status);t.request=a,e.onError(t)}}:(a=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(a.onload=e.onSuccess),e.onError&&(a.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=a,e.onError(t)})),a.open("POST",t),r&&E(r,function(e,t){a.setRequestHeader(e,t)}),a.send(s(e.data)))}},sa:function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];t[r]="function"==typeof n?n():n}return t},z:function(e){this.q[e]&&(this.debug||this.k.debug)&&Function.prototype.apply.call(this.q[e],this.p,[].slice.call(arguments,1))},Z:function(e,t){v(t)?delete this.j[e]:this.j[e]=x(this.j[e]||{},t)}},o.prototype.setUser=o.prototype.setUserContext,o.prototype.setReleaseContext=o.prototype.setRelease,r.exports=o}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,2:2,5:5,6:6,7:7,8:8}],4:[function(e,r,n){(function(t){var n=e(3),i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=i.Raven,a=new n;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),r.exports=a,r.exports.Client=n}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3}],5:[function(e,r,n){(function(t){function n(e){return void 0===e}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){return"[object String]"===Object.prototype.toString.call(e)}function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(){if(!("fetch"in y))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function c(e,t){var r,i;if(n(e.length))for(r in e)l(e,r)&&t.call(null,r,e[r]);else if(i=e.length)for(r=0;r<i;r++)t.call(null,r,e[r])}function u(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"…"}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){for(var t,r=[],n=0,i=e.length;n<i;n++)o(t=e[n])?r.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&r.push(t.source);return new RegExp(r.join("|"),"i")}function h(e){var t,r,n,i,a,s=[];if(!e||!e.tagName)return"";if(s.push(e.tagName.toLowerCase()),e.id&&s.push("#"+e.id),(t=e.className)&&o(t))for(r=t.split(/\s+/),a=0;a<r.length;a++)s.push("."+r[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)n=c[a],(i=e.getAttribute(n))&&s.push("["+n+'="'+i+'"]');return s.join("")}function p(e,t){return!!(!!e^!!t)}function d(e,t){if(p(e,t))return!1;var r=e.frames,n=t.frames;if(void 0===r||void 0===n)return!1;if(r.length!==n.length)return!1;for(var i,o,a=0;a<r.length;a++)if(i=r[a],o=n[a],i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1;return!0}function m(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function g(e){if("string"==typeof e)return u(e,40);if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}var v=e(7),y="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},b=3,w=51200,k=40;r.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:n,isFunction:function(e){return"function"==typeof e},isPlainObject:i,isString:o,isArray:a,isEmptyObject:function(e){if(!i(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:s,supportsReferrerPolicy:function(){if(!s())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,r){var n=e(t)||t;return r&&r(n)||n}},each:c,objectMerge:function(e,t){return t?(c(t,function(t,r){e[t]=r}),e):e},truncate:u,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:l,joinRegExp:f,urlencode:function(e){var t=[];return c(e,function(e,r){t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}),t.join("&")},uuid4:function(){var e=y.crypto||y.msCrypto;if(!n(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(t[0])+r(t[1])+r(t[2])+r(t[3])+r(t[4])+r(t[5])+r(t[6])+r(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,r="x"===e?t:3&t|8;return r.toString(16)})},htmlTreeAsString:function(e){for(var t,r=[],n=0,i=0,o=" > ".length;e&&n++<5&&!("html"===(t=h(e))||n>1&&i+r.length*o+t.length>=80);)r.push(t),i+=t.length,e=e.parentNode;return r.reverse().join(" > ")},htmlElementAsString:h,isSameException:function(e,t){return!p(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&!function(e,t){return n(e)&&n(t)}(e.stacktrace,t.stacktrace)&&d(e.stacktrace,t.stacktrace))},isSameStacktrace:d,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),r=t[6]||"",n=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+r+n}},fill:function(e,t,r,n){if(null!=e){var i=e[t];e[t]=r(i),e[t].M=!0,e[t].O=i,n&&n.push([e,t,i])}},safeJoin:function(e,t){if(!a(e))return"";for(var r=[],n=0;n<e.length;n++)try{r.push(String(e[n]))}catch(e){r.push("[value cannot be serialized]")}return r.join(t)},serializeException:function e(t,r,n){if(!i(t))return t;n="number"!=typeof(r="number"!=typeof r?b:r)?w:n;var o=function e(t,r){return 0===r?g(t):i(t)?Object.keys(t).reduce(function(n,i){return n[i]=e(t[i],r-1),n},{}):Array.isArray(t)?t.map(function(t){return e(t,r-1)}):g(t)}(t,r);return m(v(o))>n?e(t,r-1):o},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter(function(e){return"string"==typeof e})).length)return"[object has no keys]";if(t="number"!=typeof t?k:t,e[0].length>=t)return e[0];for(var r=e.length;r>0;r--){var n=e.slice(0,r).join(", ");if(!(n.length>t))return r===e.length?n:n+"…"}return""},sanitize:function(e,t){if(!a(t)||a(t)&&0===t.length)return e;var r,n=f(t),o="********";try{r=JSON.parse(v(e))}catch(t){return e}return function e(t){return a(t)?t.map(function(t){return e(t)}):i(t)?Object.keys(t).reduce(function(r,i){return r[i]=n.test(i)?o:e(t[i]),r},{}):t}(r)}}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{7:7}],6:[function(e,r,n){(function(t){function n(){return"undefined"==typeof document||null==document.location?"":document.location.href}var i=e(5),o={collectWindowErrors:!0,debug:!1},a="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},s=[].slice,c="?",u=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;o.report=function(){function e(e,t){var r=null;if(!t||o.collectWindowErrors){for(var n in p)if(p.hasOwnProperty(n))try{p[n].apply(null,[e].concat(s.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function t(t,a,s,l,h){var p=i.isErrorEvent(h)?h.error:h,d=i.isErrorEvent(t)?t.message:t;if(g)o.computeStackTrace.augmentStackTraceWithInitialElement(g,a,s,d),r();else if(p&&i.isError(p))e(o.computeStackTrace(p),!0);else{var m={url:a,line:s,column:l},v=void 0;if("[object String]"==={}.toString.call(d)){var y=d.match(u);y&&(v=y[1],d=y[2])}m.func=c,e({name:v,message:d,url:n(),stack:[m]},!0)}return!!f&&f.apply(this,arguments)}function r(){var t=g,r=d;d=null,g=null,m=null,e.apply(null,[t,!1].concat(r))}function l(e,t){var n=s.call(arguments,1);if(g){if(m===e)return;r()}var i=o.computeStackTrace(e);if(g=i,m=e,d=n,setTimeout(function(){m===e&&r()},i.incomplete?2e3:0),!1!==t)throw e}var f,h,p=[],d=null,m=null,g=null;return l.subscribe=function(e){h||(f=a.onerror,a.onerror=t,h=!0),p.push(e)},l.unsubscribe=function(e){for(var t=p.length-1;t>=0;--t)p[t]===e&&p.splice(t,1)},l.uninstall=function(){h&&(a.onerror=f,h=!1,f=void 0),p=[]},l}(),o.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,r,i,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=e.stack.split("\n"),h=[],p=(/^(.*) is undefined$/.exec(e.message),0),d=f.length;p<d;++p){if(r=o.exec(f[p])){var m=r[2]&&0===r[2].indexOf("native"),g=r[2]&&0===r[2].indexOf("eval");g&&(t=l.exec(r[2]))&&(r[2]=t[1],r[3]=t[2],r[4]=t[3]),i={url:m?null:r[2],func:r[1]||c,args:m?[r[2]]:[],line:r[3]?+r[3]:null,column:r[4]?+r[4]:null}}else if(r=a.exec(f[p]))i={url:r[2],func:r[1]||c,args:[],line:+r[3],column:r[4]?+r[4]:null};else{if(!(r=s.exec(f[p])))continue;var g=r[3]&&r[3].indexOf(" > eval")>-1;g&&(t=u.exec(r[3]))?(r[3]=t[1],r[4]=t[2],r[5]=null):0!==p||r[5]||void 0===e.columnNumber||(h[0].column=e.columnNumber+1),i={url:r[3],func:r[1]||c,args:r[2]?r[2].split(","):[],line:r[4]?+r[4]:null,column:r[5]?+r[5]:null}}if(!i.func&&i.line&&(i.func=c),i.url&&"blob:"===i.url.substr(0,5)){var v=new XMLHttpRequest;if(v.open("GET",i.url,!1),v.send(null),200===v.status){var y=v.responseText||"",b=(y=y.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(b){var w=b[1];"~"===w.charAt(0)&&(w=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+w.slice(1)),i.url=w.slice(0,-4)}}}h.push(i)}return h.length?{name:e.name,message:e.message,url:n(),stack:h}:null}}function t(e,t,r,n){var i={url:t,line:r};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func=c),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function r(e,a){for(var s,u,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,f=[],h={},p=!1,d=r.caller;d&&!p;d=d.caller)if(d!==i&&d!==o.report){if(u={url:null,func:c,line:null,column:null},d.name?u.func=d.name:(s=l.exec(d.toString()))&&(u.func=s[1]),void 0===u.func)try{u.func=s.input.substring(0,s.input.indexOf("{"))}catch(e){}h[""+d]?p=!0:h[""+d]=!0,f.push(u)}a&&f.splice(0,a);var m={name:e.name,message:e.message,url:n(),stack:f};return t(m,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),m}function i(t,i){var a=null;i=null==i?0:+i;try{if(a=e(t))return a}catch(e){if(o.debug)throw e}try{if(a=r(t,i+1))return a}catch(e){if(o.debug)throw e}return{name:t.name,message:t.message,url:n()}}return i.augmentStackTraceWithInitialElement=t,i.computeStackTraceFromStackProp=e,i}(),r.exports=o}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5}],7:[function(e,t,r){function n(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}function i(e,t){var r=[],i=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n(r,t)).join(".")+"]"}),function(o,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,o):i.push(o),~n(r,a)&&(a=t.call(this,o,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(a):a:e.call(this,o,a)}}(t.exports=function(e,t,r,n){return JSON.stringify(e,i(t,n),r)}).getSerialize=i},{}],8:[function(e,t,r){function n(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function i(e,t,r,i,o,a){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(i,a)),o),r)}function o(e,t,r,n,o,a,s){return i(t&r|~t&n,e,t,o,a,s)}function a(e,t,r,n,o,a,s){return i(t&n|r&~n,e,t,o,a,s)}function s(e,t,r,n,o,a,s){return i(t^r^n,e,t,o,a,s)}function c(e,t,r,n,o,a,s){return i(r^(t|~n),e,t,o,a,s)}function u(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var r,i,u,l,f,h=1732584193,p=-271733879,d=-1732584194,m=271733878;for(r=0;r<e.length;r+=16)i=h,u=p,l=d,f=m,h=o(h,p,d,m,e[r],7,-680876936),m=o(m,h,p,d,e[r+1],12,-389564586),d=o(d,m,h,p,e[r+2],17,606105819),p=o(p,d,m,h,e[r+3],22,-1044525330),h=o(h,p,d,m,e[r+4],7,-176418897),m=o(m,h,p,d,e[r+5],12,1200080426),d=o(d,m,h,p,e[r+6],17,-1473231341),p=o(p,d,m,h,e[r+7],22,-45705983),h=o(h,p,d,m,e[r+8],7,1770035416),m=o(m,h,p,d,e[r+9],12,-1958414417),d=o(d,m,h,p,e[r+10],17,-42063),p=o(p,d,m,h,e[r+11],22,-1990404162),h=o(h,p,d,m,e[r+12],7,1804603682),m=o(m,h,p,d,e[r+13],12,-40341101),d=o(d,m,h,p,e[r+14],17,-1502002290),p=o(p,d,m,h,e[r+15],22,1236535329),h=a(h,p,d,m,e[r+1],5,-165796510),m=a(m,h,p,d,e[r+6],9,-1069501632),d=a(d,m,h,p,e[r+11],14,643717713),p=a(p,d,m,h,e[r],20,-373897302),h=a(h,p,d,m,e[r+5],5,-701558691),m=a(m,h,p,d,e[r+10],9,38016083),d=a(d,m,h,p,e[r+15],14,-660478335),p=a(p,d,m,h,e[r+4],20,-405537848),h=a(h,p,d,m,e[r+9],5,568446438),m=a(m,h,p,d,e[r+14],9,-1019803690),d=a(d,m,h,p,e[r+3],14,-187363961),p=a(p,d,m,h,e[r+8],20,1163531501),h=a(h,p,d,m,e[r+13],5,-1444681467),m=a(m,h,p,d,e[r+2],9,-51403784),d=a(d,m,h,p,e[r+7],14,1735328473),p=a(p,d,m,h,e[r+12],20,-1926607734),h=s(h,p,d,m,e[r+5],4,-378558),m=s(m,h,p,d,e[r+8],11,-2022574463),d=s(d,m,h,p,e[r+11],16,1839030562),p=s(p,d,m,h,e[r+14],23,-35309556),h=s(h,p,d,m,e[r+1],4,-1530992060),m=s(m,h,p,d,e[r+4],11,1272893353),d=s(d,m,h,p,e[r+7],16,-155497632),p=s(p,d,m,h,e[r+10],23,-1094730640),h=s(h,p,d,m,e[r+13],4,681279174),m=s(m,h,p,d,e[r],11,-358537222),d=s(d,m,h,p,e[r+3],16,-722521979),p=s(p,d,m,h,e[r+6],23,76029189),h=s(h,p,d,m,e[r+9],4,-640364487),m=s(m,h,p,d,e[r+12],11,-421815835),d=s(d,m,h,p,e[r+15],16,530742520),p=s(p,d,m,h,e[r+2],23,-995338651),h=c(h,p,d,m,e[r],6,-198630844),m=c(m,h,p,d,e[r+7],10,1126891415),d=c(d,m,h,p,e[r+14],15,-1416354905),p=c(p,d,m,h,e[r+5],21,-57434055),h=c(h,p,d,m,e[r+12],6,1700485571),m=c(m,h,p,d,e[r+3],10,-1894986606),d=c(d,m,h,p,e[r+10],15,-1051523),p=c(p,d,m,h,e[r+1],21,-2054922799),h=c(h,p,d,m,e[r+8],6,1873313359),m=c(m,h,p,d,e[r+15],10,-30611744),d=c(d,m,h,p,e[r+6],15,-1560198380),p=c(p,d,m,h,e[r+13],21,1309151649),h=c(h,p,d,m,e[r+4],6,-145523070),m=c(m,h,p,d,e[r+11],10,-1120210379),d=c(d,m,h,p,e[r+2],15,718787259),p=c(p,d,m,h,e[r+9],21,-343485551),h=n(h,i),p=n(p,u),d=n(d,l),m=n(m,f);return[h,p,d,m]}function l(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function f(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function h(e){var t,r,n="0123456789abcdef",i="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i}function p(e){return unescape(encodeURIComponent(e))}function d(e){return function(e){return l(u(f(e),8*e.length))}(p(e))}function m(e,t){return function(e,t){var r,n,i=f(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=u(i,8*e.length)),r=0;r<16;r+=1)o[r]=909522486^i[r],a[r]=1549556828^i[r];return n=u(o.concat(f(t)),512+8*t.length),l(u(a.concat(n),640))}(p(e),p(t))}t.exports=function(e,t,r){return t?r?m(t,e):function(e,t){return h(m(e,t))}(t,e):r?d(e):function(e){return h(d(e))}(e)}},{}]},{},[4])(4)}).call(this,r(7))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r}]);